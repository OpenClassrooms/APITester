suites:
    -   name: 'petstore'
        definition:
            path: 'tests/Fixtures/OpenAPI/petstore.yaml'
            format: 'openapi'
        requester: 'http-async'
        preparators:
            examples: ~
            #            fixtures:
            #                path: 'tests/Fixtures/Fixtures/operation-test-suite-1.yml'
            error401: ~
            error404: ~
            error405:
                responseBody:
                    code: 405
                    message: 'HTTP 405 Method Not Allowed'
            error406: ~
            error416:
                range: # Possible range parameters across the API
                    -   in: header # For range set in header, give header name and unit (cf. https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Range)
                        names: [ 'Range' ]
                        unit: items
                    -   in: query # For range in query params, give lower and upper parameter names
                        names: [ 'offset', 'limit' ]
                    -   in: query
                        names: [ 'from', 'to' ]
        filters:
            exclude:
                - {id: 'getUserByName'}
                - {id: 'updatePet'}
                - {id: 'deleteOrder'}
                - {id: 'deleteUser'}
        auth:
            -   name: 'user_1'
                type: 'oauth2_implicit'
                headers:
                    Authorization: '%ENV(CLIENT_BASIC)%'

    -   name: 'oc'
        definition:
            path: 'tests/Fixtures/OpenAPI/openclassrooms-api.yml'
            format: 'openapi'
        requester: 'http-async'
        preparators:
            error401:
                excludedFields:
                    - 'stream'
            error403:
                excludedFields:
                    - 'stream'
            error404:
                excludedFields:
                    - 'stream'
            error405:
                excludedFields:
                    - 'stream'
            error406: ~
            error413:
                range:
                    -   in: header
                        names: [ 'Range' ]
                        unit: items
            error416:
                range:
                    -   in: header
                        names: [ 'Range' ]
                        unit: items
        filters:
            include:
                #- 'oc_api_student_cirr_status_get'
                #                - {"id": 'oc_api_learning_activity_learning_path_projects_with_user_information_get'}
                - {responses.*.statusCode: 405, preparator: 'error405'}
            exclude:
        #                - {"preparator": 'error405'}
        #                - {"preparator": '405', "id": '/.*_user_information_get/'}
        auth:
            -   name: 'user_1'
                type: 'oauth2_password'
                username: '%env(USER1_USERNAME)%'
                password: '%env(USER1_PASSWORD)%'
                scopes: [ 'openclassrooms_client', 'learning_content', 'user_learning_activity' ]
                headers:
                    Authorization: 'Basic %env(CLIENT_BASIC)%'
                    Accept: 'application/json'
                    Content-Type: 'application/json'
